(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{25:function(e,t,n){e.exports=n(39)},30:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(22),c=n.n(l),r=n(7),i=n(8),s=n(10),u=n(9),m=n(11),p=n(13),d=n(1),h=(n(30),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing"},o.a.createElement("h1",null,"Welcome to the Petful FIFO Shelter!"),o.a.createElement("section",{className:"img"},o.a.createElement("img",{src:"https://lh3.google.com/pw/ACtC-3fXsT21xszncEQUqN0wEDc8UBkLPsbwM0lAM_nCbqTHCLa9X2rlfZAyWrlRiuJj2P7UnBleMZFKYow1nkE6qx-2rMpxGuk=w713-h950-no?authuser=0",alt:"smiling golden retriever"})),o.a.createElement("p",null,"The pet that's been here the longest is the pet that needs you most. Click on the link below to see who's available for adoption and take a cat or dog home today! Happy Adopting!"),o.a.createElement("p",null,o.a.createElement(p.b,{className:"link",to:"/adoption"},"Start the adoption process")))}}]),t}(o.a.Component)),f=n(17),b=n.n(f),E=n(24),g=n(18);n(37);function y(e){return o.a.createElement("section",{className:"pets-section"},o.a.createElement("h3",null,"Our current pets:"),o.a.createElement("div",{className:"pets"},e.cat&&o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("img",{className:"pet_image",alt:e.cat.description,src:e.cat.imageURL})),o.a.createElement("li",null,"Description: ",e.cat.description),o.a.createElement("li",null,"Name: ",e.cat.name),o.a.createElement("li",null,"Gender: ",e.cat.gender),o.a.createElement("li",null,"Breed: ",e.cat.breed),o.a.createElement("li",null,"Story: ",e.cat.story)),e.cat&&e.showAdopt&&o.a.createElement("button",{onClick:function(){return e.adoptAnimal("cat")}},"Adopt me!"),e.dog&&o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("img",{className:"pet_image",alt:e.dog.description,src:e.dog.imageURL})),o.a.createElement("li",null,"Description: ",e.dog.description),o.a.createElement("li",null,"Name: ",e.dog.name),o.a.createElement("li",null,"Gender: ",e.dog.gender),o.a.createElement("li",null,"Breed: ",e.dog.breed),o.a.createElement("li",null,"Story: ",e.dog.story)),e.dog&&e.showAdopt&&o.a.createElement("button",{onClick:function(){return e.adoptAnimal("dog")}},"Adopt me!"),o.a.createElement("div",null,e.showAdopt&&o.a.createElement("button",{onClick:function(){return e.adoptAnimal("all")}},"Adopt both of us!"))))}function v(e){var t=e.people.map((function(e,t){return o.a.createElement("li",{className:"people_list",key:t},e)}));return o.a.createElement("div",{className:"people"},o.a.createElement("h3",null,"Our current waitlist:"),o.a.createElement("ul",null,t),e.enableSubmit&&o.a.createElement("form",{className:"name_submit",onSubmit:e.submitName},o.a.createElement("input",{type:"text",placeholder:"Enter your name",value:e.name,onChange:e.setName}),o.a.createElement("button",null,"Submit")))}var j="https://secret-basin-40331.herokuapp.com",O=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={dog:{},cat:{},people:[],name:"",enableSubmit:!0,type:""},n.handleGetPets=function(){return Promise.all([fetch("".concat(j,"/pets")),fetch("".concat(j,"/people"))]).then((function(e){var t=Object(g.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(e){var t=Object(g.a)(e,2),a=t[0],o=t[1];n.setState({dog:a[1]?a[1].dog:null,cat:a[0]?a[0].cat:null,people:o||[]})})).catch((function(e){return console.log({error:e})}))},n.setName=function(e){n.setState({name:e.target.value})},n.submitName=function(){fetch("".concat(j,"/people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person:n.state.name})}).then((function(){n.handleGetPets().then((function(){n.showAdopt?n.addPeople():n.adoptPet()}))})).catch((function(e){return console.log(e)})),n.setState({enableSubmit:!1})},n.adoptPet=function(){setTimeout((function(){var e,t=Math.floor(2*Math.random());0===t?e="cat":1===t&&(e="dog"),n.adopt(e).then((function(){n.showAdopt?n.addPeople():n.adoptPet()}))}),2e3)},n.addPeople=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["Elena Stevenson","Lyle Mclaughlin","Yvette Sutton","Bessie Hale","Marshall Watson","Sergio Watson","Jan Foster","Boyd Boyd"];setTimeout((function(){fetch("".concat(j,"/people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person:t[e]})});var a=n.state.people;a.push(t[e]),n.setState({people:a}),e++,n.state.people.length<5&&n.addPeople(e)}),1e3)},n.adopt=function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deletePet(t);case 2:return e.next=4,n.handleGetPets();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePet=function(e){return fetch("".concat(j,"/pets"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e})})},n.adoptAnimal=function(e){"all"===e?(n.adopt(e),alert("Congrats! You adopted a cat and dog!")):(n.adopt(e),alert("Congratulations! You have adopted a ".concat(e,"!"))),n.setState({enableSubmit:!0})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return this.handleGetPets()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(y,{cat:this.state.cat,dog:this.state.dog,showAdopt:this.showAdopt,adoptAnimal:this.adoptAnimal}),o.a.createElement(v,{people:this.state.people,name:this.state.name,setName:this.setName,submitName:this.submitName,enableSubmit:this.state.enableSubmit}))}},{key:"showAdopt",get:function(){return this.state.people[0]===this.state.name}}]),t}(o.a.Component),S=(n(38),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("main",null,o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:h}),o.a.createElement(d.a,{path:"/adoption",component:O})))))}}]),t}(o.a.Component));c.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.11a8e2c6.chunk.js.map